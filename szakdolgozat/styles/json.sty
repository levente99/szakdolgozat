% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{10} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{10}  % for normal

% Custom colors
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

\definecolor{codebg}{rgb}{0.95,0.95,0.95}
\definecolor{framecolor}{rgb}{0.85,0.85,0.85}

\lstdefinelanguage{json}{
    basicstyle=\ttfamily\scriptsize,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{background},
    literate=
    *{0}{{{\color{numb}0}}}{1}
    {1}{{{\color{numb}1}}}{1}
    {2}{{{\color{numb}2}}}{1}
    {3}{{{\color{numb}3}}}{1}
    {4}{{{\color{numb}4}}}{1}
    {5}{{{\color{numb}5}}}{1}
    {6}{{{\color{numb}6}}}{1}
    {7}{{{\color{numb}7}}}{1}
    {8}{{{\color{numb}8}}}{1}
    {9}{{{\color{numb}9}}}{1}
    {:}{{{\color{punct}{:}}}}{1}
    {,}{{{\color{punct}{,}}}}{1}
    {\{}{{{\color{delim}{\{}}}}{1}
    {\}}{{{\color{delim}{\}}}}}{1}
    {[}{{{\color{delim}{[}}}}{1}
    {]}{{{\color{delim}{]}}}}{1},
    inputencoding=utf8,
    extendedchars=true,
    literate={á}{{\'a}}1 {é}{{\'e}}1 {ö}{{\:o}}1 {ó}{{\'o}}1 {ü}{{\:u}}1 {ű}{{\H u}}1 {ő}{{\H o}}1 {í}{{\'i}}1 {ú}{{\'u}}1,
}

% JSON style for highlighting
\newcommand\jsonstyle{\lstset{
language=json,
basicstyle=\ttm,
backgroundcolor=\color{codebg},
keywordstyle=\ttb\color{deepblue},
emphstyle=\ttb\color{deepred},    % Custom highlighting style
stringstyle=\color{deepgreen},
frame=single,                         % Any extra options here
frameround=tttt,
showstringspaces=false,            % 
% numbers=left,
% numberstyle=\color{gray},
framesep=6pt,
rulecolor=\color{framecolor},
numbersep=16pt
}}

% JSON environment
\lstnewenvironment{json}[1][]
{
\jsonstyle
\lstset{#1}
}
{}

% JSON for external files
\newcommand\jsonexternal[2][]{{
\jsonstyle
\lstinputlisting[#1]{#2}}}

% JSON for inline
\newcommand\jsoninline[1]{{\jsonstyle\lstinline!#1!}}
